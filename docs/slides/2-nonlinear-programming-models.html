<!DOCTYPE html>
<html lang="en"><head>
<script src="2-nonlinear-programming-models_files/libs/clipboard/clipboard.min.js"></script>
<script src="2-nonlinear-programming-models_files/libs/quarto-html/tabby.min.js"></script>
<script src="2-nonlinear-programming-models_files/libs/quarto-html/popper.min.js"></script>
<script src="2-nonlinear-programming-models_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="2-nonlinear-programming-models_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2-nonlinear-programming-models_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="2-nonlinear-programming-models_files/libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.27">

  <meta name="author" content="Alex L. Wang">
  <title>Nonlinear optimization models</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="2-nonlinear-programming-models_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="2-nonlinear-programming-models_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="2-nonlinear-programming-models_files/libs/revealjs/dist/theme/quarto-5ae9c59b2727fcd5357d4f034d95f9e0.css">
  <link rel="stylesheet" href="styles.css">
  <link href="2-nonlinear-programming-models_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="2-nonlinear-programming-models_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="2-nonlinear-programming-models_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="2-nonlinear-programming-models_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
<script src="mathjax-config.js"></script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Nonlinear optimization models</h1>
  <p class="subtitle">MGMT 306</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Alex L. Wang 
</div>
        <p class="quarto-title-affiliation">
            Purdue University
          </p>
    </div>
</div>

</section>
<section id="what-is-a-nonlinear-optimization-model" class="slide level2">
<h2>What is a nonlinear optimization model?</h2>
<ul>
<li>A <span class="highlight">nonlinear optimization model</span> or a <span class="highlight">nonlinear program (NLP) model</span> is a <strong>model</strong> (variables, objective function, constraints) where
<ul>
<li>Objective function may be nonlinear</li>
<li>Each constraint is of the form: <span class="math display">\[\text{function of decision variables} \leq  \text{constant}\]</span> <span class="math display">\[\text{function of decision variables} =  \text{constant}\]</span> <span class="math display">\[\text{function of decision variables} \geq  \text{constant}\]</span></li>
</ul></li>
</ul>
</section>
<section id="example-nlp-model" class="slide level2">
<h2>Example NLP Model</h2>
<ul>
<li>Variables: <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span></li>
<li>Objective and constraints:</li>
</ul>
<p><span class="math display">\[\begin{aligned}
\max\quad&amp;x^2 - y^2 + x + 2y - \sin(2x)\\
\text{s.t.}\quad&amp; x^2+y^2\leq 1\\
&amp; x,y \geq 0
\end{aligned}\]</span></p>
</section>
<section id="practical-examples-of-nonlinearity" class="slide level2">
<h2>Practical examples of nonlinearity</h2>
<h3 id="effect-of-advertising-on-sales">Effect of advertising on sales:</h3>
<ul>
<li>Relationship between advertising dollars and sales is nonlinear</li>
</ul>
<h3 id="pricing-models">Pricing models:</h3>
<ul>
<li>Revenue is price multiplied by quantity sold</li>
<li>Quantity sold, itself, will depend on price</li>
<li>So objective might be <span class="math inline">\(p \cdot q(p)\)</span></li>
</ul>
</section>
<section id="practical-examples-of-nonlinearity-continued" class="slide level2">
<h2>Practical examples of nonlinearity (continued)</h2>
<h3 id="portfolio-optimization-models">Portfolio optimization models:</h3>
<ul>
<li>If we measure the risk of a portfolio of investments as the variance of the portfolio, this is a nonlinear function in the amounts invested into each component of the portfolio (diversification)</li>
</ul>
<h3 id="location-analysis-models">Location Analysis Models</h3>
<ul>
<li>If decision variables <span class="math inline">\((x,y)\)</span> represent coordinates of a facility, then the distance between <span class="math inline">\((x,y)\)</span> and another facility, say <span class="math inline">\((0,0)\)</span>, is measured by Pythagoras’ Theorem: <span class="math inline">\(\sqrt{x^2+y^2}\)</span></li>
</ul>
<p><span class="highlight">Takeaway</span>: NLP models are more realistic than LP models for these problems</p>
</section>
<section id="what-can-go-wrong-for-nlp-models" class="slide level2">
<h2>What can go wrong for NLP Models?</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li>How Solver will attempt to solve these problems:
<ul>
<li>Start at some feasible solution</li>
<li>Repeatedly step in the direction that improves objective value, while remaining feasible</li>
<li>Stop if you cannot improve the objective value any more</li>
</ul></li>
<li>This works when applied to LPs</li>
</ul>
</div><div class="column" style="width:40%;">
<p><img data-src="2-fig/fresh_farms_graphical_sol.png" alt="Graphical solution of the Fresh Farms LP problem."></p>
</div></div>
</section>
<section id="what-can-go-wrong-for-nlp-models-continued" class="slide level2">
<h2>What can go wrong for NLP Models? (Continued)</h2>
<ul>
<li><p>NLP Solver may get stuck at a <span class="highlight"><strong>suboptimal solution</strong></span> (one that is not optimal)</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="2-fig/nlp_example.png" class="quarto-figure quarto-figure-center" alt="A plot of a nonlinear function that oscillates up and down. Various local and global optima are labeled."></p>
</figure>
</div>
<ul>
<li>A <strong>local optimal solution</strong> is a solution that is better than all nearby feasible solutions</li>
<li>A <strong>global optimal solution</strong> is a solution that is better than all feasible solutions</li>
</ul></li>
</ul>
</section>
<section id="d-illustration-of-what-can-go-wrong" class="slide level2">
<h2>2D Illustration of what can go wrong</h2>
<ul>
<li><strong>Beware</strong>. NLP Solver may give you a different solution depending on where it starts</li>
</ul>

<img data-src="2-fig/nlp_example_2d.png" class="quarto-figure quarto-figure-center r-stretch" alt=""></section>
<section>
<section id="nlp-models-where-solver-can-find-the-globally-optimal-solution" class="title-slide slide level1 center" data-background-color="#40666e">
<h1>NLP Models where Solver can find the Globally Optimal Solution</h1>

</section>
<section id="convex-functions" class="slide level2">
<h2>Convex functions</h2>
<ul>
<li>A function is <strong>convex</strong> if given any two points on the graph of the function, the line segment connecting those two points lies above the function</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="2-fig/convex.png" alt="Example of a convex function."></p>
</div><div class="column" style="width:50%;">
<p><img data-src="2-fig/not_convex.png" alt="Nonexample of a convex function."></p>
</div></div>
</section>
<section id="concave-functions" class="slide level2">
<h2>Concave functions</h2>
<ul>
<li>A function is <strong>concave</strong> if given any two points on the graph of the function, the line segment connecting those two points lies below the function</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="2-fig/concave.png" alt="Example of a concave function."></p>
</div><div class="column" style="width:50%;">
<p><img data-src="2-fig/not_concave.png" alt="Nonexample of a concave function."></p>
</div></div>
</section>
<section id="when-do-we-get-global-solutions" class="slide level2">
<h2>When do we get global solutions?</h2>
<ul>
<li><p>The NLP Solver will always find a global solution for the following types of problems:</p>
<p><span class="math display">\[\begin{aligned}
  \min\quad&amp;\text{(convex objective function)}\\
  \text{s.t.}\quad&amp; \text{(linear constraints)}
  \end{aligned}\]</span></p>
<p><span class="math display">\[\begin{aligned}
  \max\quad&amp;\text{(concave objective function)}\\
  \text{s.t.}\quad&amp; \text{(linear constraints)}
  \end{aligned}\]</span></p></li>
<li><p><strong>Intuition</strong>: NLP Solver cannot get stuck at a non-global optimum</p></li>
</ul>
</section>
<section id="recap" class="slide level2">
<h2>Recap</h2>
<ul>
<li>What you should know:
<ul>
<li>What is a nonlinear program?</li>
<li>What is a local maximum/minimum/optimum?</li>
<li>What is a global maximum/minimum/optimum?</li>
<li>What are the pros and cons of NLP models and the NLP solver?</li>
<li>Visually identify a convex/concave function in one variable</li>
<li>Conditions for when NLP solver can find a globally optimal solution</li>
</ul></li>
<li>What you do not need to know:
<ul>
<li>How to check algebraically if a function is convex/concave. However, we will soon see a few examples of convex/concave functions that you should remember are convex/concave</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="pricing-model-example" class="title-slide slide level1 center" data-background-color="#40666e">
<h1>Pricing Model example</h1>

</section>
<section id="problem-description" class="slide level2">
<h2>Problem Description</h2>
<ul>
<li>Madison Company manufactures and retails tennis rackets</li>
<li>The company wants to determine the price that maximizes its profit</li>
<li>The unit cost is $50, so Madison must charge at least $50 per racket</li>
<li>Demand falls sharply when price increases: <span class="math display">\[Q=3,777,177 P^{−2.154}\]</span></li>
<li>Write an NLP model to price tennis rackets</li>
</ul>
</section>
<section id="nlp-model-for-madison" class="slide level2">
<h2>NLP Model for Madison</h2>
<ul>
<li><p>Variables <span class="math display">\[\begin{aligned}
&amp;P&amp;&amp;\text{price we set for Madison's tennis rackets}
\end{aligned}\]</span></p></li>
<li><p>Model <span class="math display">\[\begin{aligned}
\max\quad&amp;(P-50) \cdot (3777177 \cdot P^{-2.154})&amp;&amp;\text{(profit)}\\
\text{s.t.}\quad&amp; P \geq 0&amp;&amp;\text{(nonnegativity)}\\
&amp; P \geq 50&amp;&amp;\text{(price minimum)}
\end{aligned}\]</span></p></li>
</ul>
</section>
<section id="spreadsheet-solution" class="slide level2">
<h2>Spreadsheet solution</h2>

<img data-src="2-fig/madison_solved.png" class="quarto-figure quarto-figure-center r-stretch" alt="Excel Solution of the Madison Pricing problem."><ul>
<li>Remember to use <strong>GRG Nonlinear</strong> as the Solving Method</li>
</ul>
</section>
<section id="interpreting-the-optimal-solution" class="slide level2">
<h2>Interpreting the optimal solution</h2>
<ul>
<li>The NLP Solver finds the optimal price $93.32, resulting in the maximum profit $9,343.94</li>
<li>Did we find the optimal solution?</li>
<li>The objective function <span class="math inline">\((P – 50) (3777177  P ^{-2.154})\)</span> is not a concave function so we are not <em>guaranteed</em> to find the optimal solution (may depend on the initial input)</li>
<li><strong>Test</strong>: See what happens if we start the NLP solver with price = <code>1E16</code>.</li>
</ul>

<img data-src="2-fig/madison_nlp.png" class="quarto-figure quarto-figure-center r-stretch" alt="A figure showing the objective function of the Madison pricing problem. The curve is single-peaked and slowly decreases to zero to the right of the optimal price."></section>
<section id="pricing-formula" class="slide level2">
<h2>Pricing formula</h2>
<ul>
<li>Demand in terms of price is often modeled as <span class="math display">\[ Q = a P^E\]</span></li>
<li><span class="math inline">\(Q\)</span> is the quantity demanded, <span class="math inline">\(a\)</span> is a constant, <span class="math inline">\(P\)</span> is the sales price, and <span class="math inline">\(E\)</span> is the <strong>elasticity of demand</strong>
<ul>
<li>Roughly: a 1% increase in price leads to an E% increase in sales</li>
</ul></li>
</ul>
</section>
<section id="variation-with-production-capacity" class="slide level2">
<h2>Variation with production capacity</h2>
<ul>
<li><p>Suppose the Madison company has a production capacity of 150 tennis rackets. How would the model change?</p></li>
<li><p>Model <span class="math display">\[\begin{aligned}
\max\quad&amp;(P-50) \cdot \min\left(3777177 \cdot P^{-2.154}, 150\right)&amp;&amp;\text{(profit)}\\
\text{s.t.}\quad&amp; P \geq 0&amp;&amp;\text{(nonnegativity)}\\
&amp; P \geq 50&amp;&amp;\text{(price minimum)}
\end{aligned}\]</span></p></li>
<li><p><strong>Explanation</strong>: The new objective function multplies price by a <span class="math inline">\(\min(\dots)\)</span> term. This formula returns the smaller of the two expressions. When demand is less than 150, the objective is just the original objective. When demand is larger than 150, the objective is <span class="math inline">\((P-50)\cdot 150\)</span></p></li>
</ul>
</section>
<section id="variation-with-production-capacity-alternate-formulation" class="slide level2">
<h2>Variation with production capacity – alternate formulation</h2>
<ul>
<li><p>Model <span class="math display">\[\begin{aligned}
\max\quad&amp;(P-50) \cdot (377177 \cdot P^{-2.154})&amp;&amp;\text{(profit)}\\
\text{s.t.}\quad&amp; P \geq 0&amp;&amp;\text{(nonnegativity)}\\
&amp; P \geq 50&amp;&amp;\text{(price minimum)}\\
&amp; 377177 \cdot P^{-2.154} \leq 150&amp;&amp;\text{(production capacity)}
\end{aligned}\]</span></p></li>
<li><p><strong>Explanation</strong>: We know the optimal price cannot be lower than the price that would result in demand being larger than 150.</p></li>
</ul>
</section></section>
<section>
<section id="portfolio-optimization" class="title-slide slide level1 center" data-background-color="#40666e">
<h1>Portfolio optimization</h1>

</section>
<section id="portfolio-optimization-model" class="slide level2">
<h2>Portfolio Optimization Model</h2>
<ul>
<li>A portfolio is made up of multiple investment products (e.g, stocks)</li>
<li>We will use variance to measure the risk of a portfolio</li>
<li>We want our portfolio to have a high expected rate of return and to have a low variance</li>
<li>How should we allocate our investments in different investment products?</li>
</ul>
</section>
<section id="refresher-from-stat-225mgmt-305" class="slide level2">
<h2>Refresher from STAT 225/MGMT 305</h2>
<ul>
<li>Assume <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span> are random variables and <span class="math inline">\(p_1\)</span> and <span class="math inline">\(p_2\)</span> are constants</li>
<li><strong>Fact</strong>. Expectation is linear: <span class="math display">\[E\left[p_1X_1 + p_2 X_2\right]= p_1 E\left[X_1\right] + p_2 E\left[X_2\right]\]</span></li>
<li><strong>Fact</strong>. Variance is nonlinear: <span class="math display">\[\text{Var}\left[p_1X_1 + p_2 X_2\right]= p_1^2 \text{Var}\left[X_1\right] + p_2^2 \text{Var}\left[X_2\right] + 2p_1p_2\text{Cov}(X_1,X_2)\]</span></li>
<li>Covariance between <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span> can be calculated as <span class="math display">\[\text{Cov}(X_1,X_2) = \sigma_{1,2} = r_{1,2}\sigma_1\sigma_2\]</span> where <span class="math inline">\(\sigma_i^2\)</span> is variance of <span class="math inline">\(X_i\)</span>, <span class="math inline">\(r_{1,2}\)</span> is the correlation between <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span></li>
<li><strong>Fact</strong>. Standard deviation of a RV is the square root of its variance</li>
</ul>
</section>
<section id="portfolio-optimization-model---example" class="slide level2">
<h2>Portfolio optimization model - Example</h2>
<ul>
<li><p>Let <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span> represent the annual rate of return of two different stocks <span class="math display">\[E[X_1]=0.12\quad\text{Var}[X_1]=0.2^2 = 0.04\]</span> <span class="math display">\[E[X_2]=0.15\quad\text{Var}[X_2]=0.25^2 = 0.0625\]</span> <span class="math display">\[r_{1,2}=0.3\]</span></p></li>
<li><p>We want an expected annual rate of return of at least 0.13</p></li>
<li><p>Use an NLP model to minimize variance among all such portfolios</p></li>
</ul>
</section>
<section id="portfolio-optimization---nlp-model" class="slide level2">
<h2>Portfolio optimization - NLP Model</h2>
<ul>
<li><p>Variables <span class="math display">\[\begin{aligned}
&amp;p_1&amp;&amp;\text{fraction invested in stock 1}\\
&amp;p_2&amp;&amp;\text{fraction invested in stock 2}
\end{aligned}\]</span></p></li>
<li><p>Model <span class="math display">\[\begin{aligned}
\min\quad&amp;0.04 p1^{2} + 0.0625 p2^{2} + 0.03 \cdot p1 \cdot p2&amp;\text{(variance)}\\
\text{s.t.}\quad&amp; p1 + p2 = 1&amp;\text{(total fraction)}\\
&amp; 0.12 p1 + 0.15 p2 \geq 0.13&amp;\text{(min expected return)}\\
&amp; p1, p2 \geq 0&amp;\text{(nonnegativity)}
\end{aligned}\]</span></p></li>
</ul>
</section>
<section id="portfolio-optimization-model-convexity" class="slide level2">
<h2>Portfolio optimization model convexity</h2>
<ul>
<li><p>The variance of a linear combination of random variables <span class="highlight">is always convex</span> <span class="math display">\[Var(a_1 X_1 + a_2 X_2 + a_3 X_3 + ... )\]</span></p>
<p>is a convex function of <span class="math inline">\(a_1\)</span>, <span class="math inline">\(a_2\)</span>, <span class="math inline">\(a_3\)</span>, …</p></li>
<li><p>Thus, minimizing the variance subject to linear constraints is a situation where the NLP solver will always find the global minimum</p></li>
</ul>
</section>
<section id="portfolio-optimization-model-in-excel" class="slide level2">
<h2>Portfolio optimization model in Excel</h2>
<ul>
<li>We will rewrite the variance in the following form</li>
</ul>
<p><span class="math display">\[\begin{aligned}
\text{Var}[p_1X_1 + p_2 X_2] &amp;= (p_1\sigma_1)^2 + (p_2 \sigma_2)^2 + 2r_{1,2}(p_1\sigma_1)(p_2\sigma_2)\\
&amp;= \begin{pmatrix}p_1\sigma_1 &amp; p_2\sigma_2\end{pmatrix}
\begin{pmatrix}1 &amp; r_{1,2}\\
r_{1,2} &amp; 1\end{pmatrix}
\begin{pmatrix}p_1\sigma_1 \\
p_2\sigma_2\end{pmatrix}
\end{aligned}\]</span></p>
<ul>
<li>Vector on either side is standard deviation of each investment</li>
<li>Matrix in the middle is the correlation matrix</li>
</ul>
</section>
<section id="portfolio-optimization-model-spreadsheet" class="slide level2">
<h2>Portfolio optimization model spreadsheet</h2>

<img data-src="2-fig/portfolio_excel.png" class="quarto-figure quarto-figure-center r-stretch" alt="Solved spreadsheet implementation of the portfolio optimization model."></section></section>
<section>
<section id="facility-location" class="title-slide slide level1 center" data-background-color="#40666e">
<h1>Facility location</h1>

</section>
<section id="warehouse-location" class="slide level2">
<h2>Warehouse Location</h2>
<ul>
<li>The Lafferty Company wants to locate a warehouse from which it will ship products to four customers.</li>
<li>The location (in the <span class="math inline">\(x\)</span>-<span class="math inline">\(y\)</span> plane) of the four customers and the number of shipments per year needed by each customer are given in the following table:</li>
</ul>
<table class="caption-top">
<thead>
<tr class="header">
<th>Customer</th>
<th><span class="math inline">\(x\)</span>-coordinate</th>
<th><span class="math inline">\(y\)</span>-coordinate</th>
<th>shipments / year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>5</td>
<td>10</td>
<td>200</td>
</tr>
<tr class="even">
<td>2</td>
<td>10</td>
<td>5</td>
<td>150</td>
</tr>
<tr class="odd">
<td>3</td>
<td>0</td>
<td>12</td>
<td>200</td>
</tr>
<tr class="even">
<td>4</td>
<td>12</td>
<td>0</td>
<td>300</td>
</tr>
</tbody>
</table>
<ul>
<li>What is the location for the warehouse that minimizes the total annual distance traveled to and from the warehouse to the customers?</li>
</ul>
</section>
<section id="how-to-calculate-distances" class="slide level2">
<h2>How to calculate distances</h2>
<ul>
<li>We will use the Pythagorean Theorem to compute the distance between a pair of points</li>
<li>If <span class="math inline">\((x,y)\)</span> is the location of the warehouse and <span class="math inline">\((x_1,y_1)\)</span> is the location of the first customer, then the distance between the warehouse and the first customer is <span class="math display">\[\sqrt{(x_1-x)^2 + (y_1-y)^2}\]</span></li>
</ul>
</section>
<section id="facility-location-nlp-model" class="slide level2">
<h2>Facility Location NLP Model</h2>
<ul>
<li><p>Variables <span class="math display">\[\begin{aligned}
&amp;x&amp;&amp;\text{the $x$-coordinate of the new warehouse}\\
&amp;y&amp;&amp;\text{the $y$-coordinate of the new warehouse}
\end{aligned}\]</span></p></li>
<li><p>Constraints: None!</p></li>
<li><p>Objective: <span class="math display">\[\min \quad 2\times 200 \times \sqrt{(5-x)^2 + (10 - y)^2} + 2\times 150 \times \sqrt{(10 - x)^2 + (5-y)^2}+\dots\]</span></p></li>
</ul>
</section>
<section id="facility-location-nlp-model-convexity" class="slide level2">
<h2>Facility Location NLP Model Convexity</h2>
<ul>
<li>The distance between two locations is a convex function of the coordinates <span class="math display">\[\sqrt{(x_1-x)^2 + (y_1-y)^2}\]</span></li>
<li>This is also true for weighted sums of distances (with positive weights)</li>
<li>So the facility location NLP model is minimizing a convex function over no constraints</li>
</ul>
</section>
<section id="facility-location---excel" class="slide level2">
<h2>Facility location - Excel</h2>


<img data-src="2-fig/facility_location.png" class="quarto-figure quarto-figure-center r-stretch" alt="Spreadsheet solution of Facility location problem."></section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="2-nonlinear-programming-models_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>